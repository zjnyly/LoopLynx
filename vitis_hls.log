
****** Vitis HLS - High-Level Synthesis from C, C++ and OpenCL v2023.2 (64-bit)
  **** SW Build 4023990 on Oct 11 2023
  **** IP Build 4028589 on Sat Oct 14 00:45:43 MDT 2023
  **** SharedData Build 4025554 on Tue Oct 10 17:18:54 MDT 2023
    ** Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
    ** Copyright 2022-2023 Advanced Micro Devices, Inc. All Rights Reserved.

source /tools/Xilinx/Vitis_HLS/2023.2/scripts/vitis_hls/hls.tcl -notrace
INFO: [HLS 200-10] Running '/tools/Xilinx/Vitis_HLS/2023.2/bin/unwrapped/lnx64.o/vitis_hls'
INFO: [HLS 200-10] For user 'zjnyly' on host 'ric-MS-7D25' (Linux_x86_64 version 5.4.0-150-generic) on Sun Mar 24 12:20:31 CST 2024
INFO: [HLS 200-10] On os Ubuntu 18.04.6 LTS
INFO: [HLS 200-10] In directory '/home/zjnyly/Cyclotron'
INFO: [HLS 200-2053] The vitis_hls executable is being deprecated. Consider using vitis-run --mode hls --tcl
Sourcing Tcl script 'build_loop_lynx.tcl'
INFO: [HLS 200-1510] Running: open_project LoopLynx_prj 
INFO: [HLS 200-10] Opening project '/home/zjnyly/Cyclotron/LoopLynx_prj'.
INFO: [HLS 200-1510] Running: set_top LoopLynx 
INFO: [HLS 200-1510] Running: add_files ./attention.cpp -cflags -I/home/zjnyly/Cyclotron/include 
INFO: [HLS 200-10] Adding design file './attention.cpp' to the project
INFO: [HLS 200-1510] Running: add_files ./attention.cpp -cflags -std=c++0x 
INFO: [HLS 200-10] Adding design file './attention.cpp' to the project
INFO: [HLS 200-1510] Running: add_files -tb attention_tb.cpp 
INFO: [HLS 200-10] Adding test bench file 'attention_tb.cpp' to the project
INFO: [HLS 200-1510] Running: open_solution solution1 
INFO: [HLS 200-10] Opening solution '/home/zjnyly/Cyclotron/LoopLynx_prj/solution1'.
INFO: [SYN 201-201] Setting up clock 'default' with a period of 10ns.
INFO: [SYN 201-201] Setting up clock 'default' with an uncertainty of 1.25ns.
INFO: [HLS 200-1611] Setting target device to 'xcvu190-flga2577-2-e'
INFO: [HLS 200-1505] Using flow_target 'vivado'
Resolution: For help on HLS 200-1505 see docs.xilinx.com/access/sources/dita/topic?Doc_Version=2023.2%20English&url=ug1448-hls-guidance&resourceid=200-1505.html
INFO: [HLS 200-1464] Running solution command: config_compile -name_max_length=80
INFO: [XFORM 203-1161] The maximum of name length is set to 80.
INFO: [HLS 200-1464] Running solution command: config_compile -complex-mul-dsp=0
INFO: [XFORM 203-1161] The maximum of name length is set to 80.
INFO: [HLS 200-1510] Running: config_array_partition -maximum_size 4096 
INFO: [XFORM 203-101] Allowed max sub elements number after partition is 4096.
ERROR: [HLS 200-642] The 'config_array_partition -maximum_size' command is not supported.
INFO: [HLS 200-1510] Running: config_compile -name_max_length 80 
INFO: [XFORM 203-1161] The maximum of name length is set to 80.
INFO: [HLS 200-1510] Running: set_part xcvu190-flga2577-2-e 
INFO: [XFORM 203-1161] The maximum of name length is set to 80.
INFO: [HLS 200-1510] Running: create_clock -period 10 -name default 
INFO: [HLS 200-1510] Running: set_clock_uncertainty 12.5% default 
***** C/RTL SYNTHESIS *****
INFO: [HLS 200-1510] Running: csynth_design 
INFO: [HLS 200-111] Finished File checks and directory preparation: CPU user time: 0.03 seconds. CPU system time: 0 seconds. Elapsed time: 0.03 seconds; current allocated memory: 304.965 MB.
INFO: [HLS 200-10] Analyzing design file './attention.cpp' ... 
WARNING: [HLS 214-114] Since the only kind of statements allowed in a canonical dataflow region are variable declarations and function calls, the compiler may not be able to correctly handle the region (./systolic_array.cpp:38:9)
Resolution: For help on HLS 214-114 see docs.xilinx.com/access/sources/dita/topic?Doc_Version=2023.2%20English&url=ug1448-hls-guidance&resourceid=214-114.html
WARNING: [HLS 214-113] Either use an argument of the function or declare the variable inside the dataflow loop body (./systolic_array.cpp:119:24)
Resolution: For help on HLS 214-113 see docs.xilinx.com/access/sources/dita/topic?Doc_Version=2023.2%20English&url=ug1448-hls-guidance&resourceid=214-113.html
WARNING: [HLS 214-113] Either use an argument of the function or declare the variable inside the dataflow loop body (./systolic_array.cpp:119:40)
Resolution: For help on HLS 214-113 see docs.xilinx.com/access/sources/dita/topic?Doc_Version=2023.2%20English&url=ug1448-hls-guidance&resourceid=214-113.html
WARNING: [HLS 214-113] Either use an argument of the function or declare the variable inside the dataflow loop body (./systolic_array.cpp:119:56)
Resolution: For help on HLS 214-113 see docs.xilinx.com/access/sources/dita/topic?Doc_Version=2023.2%20English&url=ug1448-hls-guidance&resourceid=214-113.html
WARNING: [HLS 214-114] Since the only kind of statements allowed in a canonical dataflow region are variable declarations and function calls, the compiler may not be able to correctly handle the region (./systolic_array.cpp:109:9)
Resolution: For help on HLS 214-114 see docs.xilinx.com/access/sources/dita/topic?Doc_Version=2023.2%20English&url=ug1448-hls-guidance&resourceid=214-114.html
WARNING: [HLS 200-471] Dataflow form checks found 5 issue(s) in file ./attention.cpp
Resolution: For help on HLS 200-471 see docs.xilinx.com/access/sources/dita/topic?Doc_Version=2023.2%20English&url=ug1448-hls-guidance&resourceid=200-471.html
WARNING: [HLS 207-5292] unused parameter 'layer' (./attention.cpp:106:7)
INFO: [HLS 200-111] Finished Source Code Analysis and Preprocessing: CPU user time: 8.92 seconds. CPU system time: 0.63 seconds. Elapsed time: 9.57 seconds; current allocated memory: 310.074 MB.
INFO: [HLS 200-777] Using interface defaults for 'Vivado' flow target.
INFO: [HLS 200-1995] There were 101 instructions in the design after the 'Compile/Link' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 55 instructions in the design after the 'Unroll/Inline (step 1)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 55 instructions in the design after the 'Unroll/Inline (step 2)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 66 instructions in the design after the 'Unroll/Inline (step 3)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 66 instructions in the design after the 'Unroll/Inline (step 4)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 66 instructions in the design after the 'Array/Struct (step 1)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 66 instructions in the design after the 'Array/Struct (step 2)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 69 instructions in the design after the 'Array/Struct (step 3)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 121 instructions in the design after the 'Array/Struct (step 4)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 121 instructions in the design after the 'Array/Struct (step 5)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 121 instructions in the design after the 'Performance (step 1)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 121 instructions in the design after the 'Performance (step 2)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 121 instructions in the design after the 'Performance (step 3)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 121 instructions in the design after the 'Performance (step 4)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 482 instructions in the design after the 'HW Transforms (step 1)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 200-1995] There were 507 instructions in the design after the 'HW Transforms (step 2)' phase of compilation. See the Design Size Report for more details: /home/zjnyly/Cyclotron/LoopLynx_prj/solution1/syn/report/csynth_design_size.rpt
INFO: [HLS 214-241] Aggregating fifo (hls::stream) variable 'ring_1_0' with compact=bit mode in 64-bits (./attention.cpp:183:45)
INFO: [HLS 214-241] Aggregating fifo (hls::stream) variable 'ring_0_1' with compact=bit mode in 64-bits (./attention.cpp:182:25)
INFO: [HLS 200-111] Finished Compiling Optimization and Transform: CPU user time: 1.26 seconds. CPU system time: 0.2 seconds. Elapsed time: 6.28 seconds; current allocated memory: 311.109 MB.
INFO: [HLS 200-111] Finished Checking Pragmas: CPU user time: 0 seconds. CPU system time: 0 seconds. Elapsed time: 0 seconds; current allocated memory: 311.109 MB.
INFO: [HLS 200-10] Starting code transformations ...
INFO: [HLS 200-111] Finished Standard Transforms: CPU user time: 0.01 seconds. CPU system time: 0 seconds. Elapsed time: 0.02 seconds; current allocated memory: 311.383 MB.
INFO: [HLS 200-10] Checking synthesizability ...
INFO: [HLS 200-111] Finished Checking Synthesizability: CPU user time: 0.01 seconds. CPU system time: 0 seconds. Elapsed time: 0.01 seconds; current allocated memory: 311.988 MB.
WARNING: [HLS 200-805] An internal stream 'ring_0_1' with default size can result in deadlock. Please consider resizing the stream using the directive 'set_directive_stream' or the 'HLS stream' pragma.
WARNING: [HLS 200-805] An internal stream 'ring_1_0' with default size can result in deadlock. Please consider resizing the stream using the directive 'set_directive_stream' or the 'HLS stream' pragma.
INFO: [XFORM 203-712] Applying dataflow to function 'LoopLynx' (./attention.cpp:144), detected/extracted 2 process function(s): 
	 'Vortex'
	 'Vortex.1'.
INFO: [HLS 200-111] Finished Loop, function and other optimizations: CPU user time: 0.07 seconds. CPU system time: 0 seconds. Elapsed time: 0.07 seconds; current allocated memory: 334.777 MB.
WARNING: [HLS 200-657] Generating channel ring_1_0 that flows backwards in the dataflow region.
INFO: [HLS 200-111] Finished Architecture Synthesis: CPU user time: 0.05 seconds. CPU system time: 0 seconds. Elapsed time: 0.05 seconds; current allocated memory: 346.750 MB.
INFO: [HLS 200-10] Starting hardware synthesis ...
INFO: [HLS 200-10] Synthesizing 'LoopLynx' ...
WARNING: [SYN 201-103] Legalizing function name 'Vortex.1' to 'Vortex_1'.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-42] -- Implementing module 'Vortex' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [SCHED 204-11] Starting scheduling ...
INFO: [SCHED 204-11] Finished scheduling.
INFO: [HLS 200-111] Finished Scheduling: CPU user time: 0.05 seconds. CPU system time: 0.02 seconds. Elapsed time: 0.06 seconds; current allocated memory: 349.840 MB.
INFO: [BIND 205-100] Starting micro-architecture generation ...
INFO: [BIND 205-101] Performing variable lifetime analysis.
INFO: [BIND 205-101] Exploring resource sharing.
INFO: [BIND 205-101] Binding ...
INFO: [BIND 205-100] Finished micro-architecture generation.
INFO: [HLS 200-111] Finished Binding: CPU user time: 0.02 seconds. CPU system time: 0 seconds. Elapsed time: 0.02 seconds; current allocated memory: 349.840 MB.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-42] -- Implementing module 'Vortex_1' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [SCHED 204-11] Starting scheduling ...
INFO: [SCHED 204-11] Finished scheduling.
INFO: [HLS 200-111] Finished Scheduling: CPU user time: 0.04 seconds. CPU system time: 0 seconds. Elapsed time: 0.05 seconds; current allocated memory: 351.477 MB.
INFO: [BIND 205-100] Starting micro-architecture generation ...
INFO: [BIND 205-101] Performing variable lifetime analysis.
INFO: [BIND 205-101] Exploring resource sharing.
INFO: [BIND 205-101] Binding ...
INFO: [BIND 205-100] Finished micro-architecture generation.
INFO: [HLS 200-111] Finished Binding: CPU user time: 0.02 seconds. CPU system time: 0 seconds. Elapsed time: 0.02 seconds; current allocated memory: 351.477 MB.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-42] -- Implementing module 'LoopLynx' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [SCHED 204-11] Starting scheduling ...
INFO: [SCHED 204-11] Finished scheduling.
INFO: [HLS 200-111] Finished Scheduling: CPU user time: 0.02 seconds. CPU system time: 0 seconds. Elapsed time: 0.02 seconds; current allocated memory: 351.625 MB.
INFO: [BIND 205-100] Starting micro-architecture generation ...
INFO: [BIND 205-101] Performing variable lifetime analysis.
INFO: [BIND 205-101] Exploring resource sharing.
INFO: [BIND 205-101] Binding ...
INFO: [BIND 205-100] Finished micro-architecture generation.
INFO: [HLS 200-111] Finished Binding: CPU user time: 0.01 seconds. CPU system time: 0 seconds. Elapsed time: 0.01 seconds; current allocated memory: 351.625 MB.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-10] -- Generating RTL for module 'Vortex' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [RTGEN 206-100] Finished creating RTL model for 'Vortex'.
INFO: [HLS 200-111] Finished Creating RTL model: CPU user time: 0.03 seconds. CPU system time: 0 seconds. Elapsed time: 0.03 seconds; current allocated memory: 353.770 MB.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-10] -- Generating RTL for module 'Vortex_1' 
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [RTGEN 206-100] Finished creating RTL model for 'Vortex_1'.
INFO: [HLS 200-111] Finished Creating RTL model: CPU user time: 0.06 seconds. CPU system time: 0.01 seconds. Elapsed time: 0.07 seconds; current allocated memory: 359.520 MB.
INFO: [HLS 200-10] ----------------------------------------------------------------
INFO: [HLS 200-10] -- Generating RTL for module 'LoopLynx' 
INFO: [HLS 200-10] ----------------------------------------------------------------
WARNING: [RTGEN 206-101] Design contains AXI ports. Reset is fixed to synchronous and active low.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem0' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem1' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem2' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem3' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem4' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem5' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem6' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem7' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem8' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem9' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem10' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem11' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem12' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem13' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem14' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/gmem15' to 'm_axi'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/token_buffer_0' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/attention_buffer_0' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/q_weight_buffer_0' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/k_weight_buffer_0' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/v_weight_buffer_0' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/o_weight_buffer_0' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/mlp_1_weight_buffer_0' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/mlp_2_weight_buffer_0' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/token_buffer_1' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/attention_buffer_1' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/q_weight_buffer_1' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/k_weight_buffer_1' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/v_weight_buffer_1' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/o_weight_buffer_1' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/mlp_1_weight_buffer_1' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on port 'LoopLynx/mlp_2_weight_buffer_1' to 's_axilite & ap_none'.
INFO: [RTGEN 206-500] Setting interface mode on function 'LoopLynx' to 'ap_ctrl_none'.
INFO: [RTGEN 206-100] Bundling port 'token_buffer_0', 'attention_buffer_0', 'q_weight_buffer_0', 'k_weight_buffer_0', 'v_weight_buffer_0', 'o_weight_buffer_0', 'mlp_1_weight_buffer_0', 'mlp_2_weight_buffer_0', 'token_buffer_1', 'attention_buffer_1', 'q_weight_buffer_1', 'k_weight_buffer_1', 'v_weight_buffer_1', 'o_weight_buffer_1', 'mlp_1_weight_buffer_1' and 'mlp_2_weight_buffer_1' to AXI-Lite port control.
INFO: [HLS 200-633] Setting ap_ctrl_none interface for LoopLynx
INFO: [RTGEN 206-100] Finished creating RTL model for 'LoopLynx'.
INFO: [RTMG 210-285] Implementing FIFO 'ring_1_0_U(LoopLynx_fifo_w64_d2_S)' using Shift Registers.
INFO: [RTMG 210-285] Implementing FIFO 'ring_0_1_U(LoopLynx_fifo_w64_d2_S)' using Shift Registers.
INFO: [HLS 200-111] Finished Creating RTL model: CPU user time: 0.1 seconds. CPU system time: 0 seconds. Elapsed time: 0.09 seconds; current allocated memory: 370.031 MB.
INFO: [HLS 200-111] Finished Generating all RTL models: CPU user time: 0.15 seconds. CPU system time: 0.01 seconds. Elapsed time: 0.17 seconds; current allocated memory: 373.973 MB.
INFO: [HLS 200-111] Finished Updating report files: CPU user time: 4.35 seconds. CPU system time: 0.02 seconds. Elapsed time: 4.36 seconds; current allocated memory: 393.164 MB.
INFO: [VHDL 208-304] Generating VHDL RTL for LoopLynx.
INFO: [VLOG 209-307] Generating Verilog RTL for LoopLynx.
INFO: [HLS 200-789] **** Estimated Fmax: 114.29 MHz
INFO: [HLS 200-111] Finished Command csynth_design CPU user time: 15.2 seconds. CPU system time: 0.89 seconds. Elapsed time: 20.94 seconds; current allocated memory: 88.199 MB.
***** C/RTL SYNTHESIS COMPLETED IN 0h0m20s *****
INFO: [HLS 200-112] Total CPU user time: 16.23 seconds. Total CPU system time: 0.99 seconds. Total elapsed time: 21.98 seconds; peak allocated memory: 393.164 MB.
INFO: [Common 17-206] Exiting vitis_hls at Sun Mar 24 12:20:53 2024...
